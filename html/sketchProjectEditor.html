<html>
	<head>
		<title>Sketch Project</title>
		
		<link rel="stylesheet" type="text/css" href="../css/style.css" />
		<link rel="stylesheet" type="text/css" href="../css/menu.css" /> 
		
		<script src="../src/Libs/utils.js"></script>
		<script src="../src/Libs/kinetic-v4.3.2.js"></script>	
		<script src="../src/Model/interfaceResource.js"></script>
		<script src="../src/Model/sketch.js"></script>
		<script src="../src/Editor/mediatorObject.js"></script>
		<script src="../src/Action/actionController.js"></script>
		<script src="../src/Action/basicCommands.js"></script>
		<script src="../src/Action/basicComponents.js"></script>	
		<script src="../src/Graphic/graphicController.js"></script>
		<script src="../src/Editor/generalManager.js"></script>
		<script src="../src/HTMLHelper/DOMManipulator.js"></script>
		
		<script>
			window.onload = function() {

			};
			
			function callCreateButton()
			{
				generalGlobals.manager.internalMediator.publish( "CreateButton", [ ] );
			}
			
			function callUndo()
			{
				generalGlobals.manager.internalMediator.publish( "Undo", [ ] );
			}
			
			
			function callRedo()
			{
				generalGlobals.manager.internalMediator.publish( "Redo", [ ] );
			}
			
			
			function openProjectEvent( isEmptyProject )
			{
				if( isEmptyProject )
				{
					generalGlobals.newProject( "me", "test" );
					
					var menuID = "EditorBar";
					if( !$(menuID) )
					{
						var menuDOM = createMenuBar( menuID );
						document.getElementById("extraBar").appendChild( menuDOM );
						createMenuButtonGroup( menuID, "Create" );
							createMenuButton( "Create", "Button", "callCreateButton()" );
						createMenuButton( menuID, "Change Mode", "alert('Mode changed')" );
						createMenuButtonGroup( menuID, "Edit" );
							createMenuButton( "Edit", "Undo", "callUndo()" );
							createMenuButton( "Edit", "Redo", "callRedo()" );
						console.log(menuDOM.outerHTML);
					}	
				}
			}
	    </script>
	    
	</head>
	
	<body>
		<div id="normalBar" > </div>
		<div id="extraBar" > </div>
		<div id="container"> </div>
		
		<script>
			var menuID = "topBar";
			var menuDOM = createMenuBar( menuID );
			document.getElementById("normalBar").appendChild( menuDOM );
			createMenuButtonGroup( menuID, "File" );
				createMenuButton( "File", "New", "openProjectEvent(true)" );
				createMenuButton( "File", "Open", "alert('Project opened')" );
			createMenuButtonGroup( menuID, "Help" );
			console.log(menuDOM.outerHTML);
		</script>
		
		<script>			
		
		</script>
	</body>
	
</html>